#!/bin/sh

# Default password length is 64 characters
length="${1:-64}"

# Function to generate the password from a character set
raw_pass() {
  # Use tr to delete all characters *not* in the set ' -~' (ASCII printable characters)
  # The set ' -~' covers ASCII codes 32 (space) through 126 (tilde)
  tr -dc "$1" </dev/urandom \
    | dd ibs=1 obs=1 count="${length}" 2>/dev/null
}

# Generate and display the ASCII password
raw_pass ' -~'

# Add newline character
printf '\n'
